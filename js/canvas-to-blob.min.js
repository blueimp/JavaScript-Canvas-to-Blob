!function(a){"use strict";var b=a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype,c=a.Blob&&function(){try{return Boolean(new Blob)}catch(a){return!1}}(),d=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder,e=(c||d)&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&function(a){var b,e,f,g,h,i;for(b=a.split(",")[0].indexOf("base64")>=0?atob(a.split(",")[1]):decodeURIComponent(a.split(",")[1]),e=new ArrayBuffer(b.length),f=new Uint8Array(e),g=0;g<b.length;g+=1)f[g]=b.charCodeAt(g);return h=a.split(",")[0].split(":")[1].split(";")[0],c?new Blob([f.buffer],{type:h}):(i=new d,i.append(e),i.getBlob(h))};a.HTMLCanvasElement&&!b.toBlob&&(b.mozGetAsFile?b.toBlob=function(a,c,d){a(d&&b.toDataURL&&e?e(this.toDataURL(c,d)):this.mozGetAsFile("blob",c))}:b.toDataURL&&e&&(b.toBlob=function(a,b,c){a(e(this.toDataURL(b,c)))})),"function"==typeof define&&define.amd?define(function(){return e}):a.dataURLtoBlob=e}(this);